# base system is included to handle proper apt config and some base packages
# disable if you configure apt elsewhere
include_basesystem: true
include_ctfd: true
aptproxyserver: configserver01

# git repo to pull ctfd files from
ctfd_git_repo: https://github.com/moozer/CTFd.git

# relevant directories
ctfd_base: /opt/CTFd
ctfd_local: CTFd_local

# the user that runs the ctfd service
# if you do "become: yes" in the playbook, this will be root, so it must be set manually.
ctfd_user: "{{ ansible_user_id }}"

# this must match the clients...
teams:
  - { name: "hometeam", host: "gameclient01" }

services:
  - { name: "bashtard",
      manifest: "{{ ctfd_base }}/services/Bashtard/Manifest.json" }


# -- local, i.e. on the ansible machine
local_temp_dir: tmp
local_ctfd_dir: "{{ local_temp_dir }}/CTFd"

# -- client, gameclient machines
# on these you may want to do include_ctfc: false
include_ctfc: false
ctfc_base: scripts
ctfc_service_dir: services

services_enabled:
- "{{ bashtard }}"

# service definitions
bashtard: 
  name: bashtard
  src_path: "{{ local_ctfd_dir }}/services/Bashtard/src"
  dest_path: "{{ ctfc_service_dir }}"
  filename: bashtard.sh
  port: 9898

